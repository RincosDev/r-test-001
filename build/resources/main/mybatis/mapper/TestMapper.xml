<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.rtest.mapper.TestMapper">

    <!-- Test 리스트 조회 -->
    <select id="selectTestList" resultType="TestVO">
        SELECT 
            TEST_ID as testId,
            TEST_NAME as testName,
            TEST_DESC as testDesc,
            TO_CHAR(REG_DATE, 'YYYY-MM-DD HH24:MI:SS') as regDate
        FROM TB_TEST
        ORDER BY REG_DATE DESC
    </select>
    
    <!-- Test 단건 조회 -->
    <select id="selectTest" parameterType="String" resultType="TestVO">
        SELECT 
            TEST_ID as testId,
            TEST_NAME as testName,
            TEST_DESC as testDesc,
            TO_CHAR(REG_DATE, 'YYYY-MM-DD HH24:MI:SS') as regDate
        FROM TB_TEST
        WHERE TEST_ID = #{testId}
    </select>
    
    <!-- Test 등록 -->
    <insert id="insertTest" parameterType="TestVO">
        INSERT INTO TB_TEST (
            TEST_ID,
            TEST_NAME,
            TEST_DESC,
            REG_DATE
        ) VALUES (
            #{testId},
            #{testName},
            #{testDesc},
            SYSDATE
        )
    </insert>
    
    <!-- Test 수정 -->
    <update id="updateTest" parameterType="TestVO">
        UPDATE TB_TEST
        SET TEST_NAME = #{testName},
            TEST_DESC = #{testDesc}
        WHERE TEST_ID = #{testId}
    </update>
    
    <!-- Test 삭제 -->
    <delete id="deleteTest" parameterType="String">
        DELETE FROM TB_TEST
        WHERE TEST_ID = #{testId}
    </delete>

</mapper>
